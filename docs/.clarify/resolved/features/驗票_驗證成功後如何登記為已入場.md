# 釐清問題

驗票功能中，驗證成功後如何登記為已入場？

# 定位

Feature：驗票功能
Rule：驗證成功後登記為已入場

# 多選題

| 選項 | 描述 |
|--------|-------------|
| A | 更新 Ticket 的 status 為已驗證 |
| B | 建立 TicketValidateLog 記錄 |
| C | 同時更新 Ticket status 與建立驗證記錄 |
| Short | 提供其他簡短答案（<=5 字）|

# 影響範圍

- Ticket 實體的狀態轉換
- 是否需要 TicketValidateLog 實體
- 驗票功能的後置條件
- 驗票記錄的查詢功能

# 優先級

High
- 影響驗票功能的資料結構設計
- 影響 Ticket 狀態管理邏輯

---

# 解決記錄

**使用者選擇：C**

**規格文件變更：**
- `spec/erm.dbml` - 新增實體：
  - TicketValidateLog 實體：記錄票券驗證的時間與人員
  - 屬性：target_id, ticket_id, validate_time, validator
  - 關聯：TicketValidateLog N:1 Ticket

- `spec/features/驗票.feature` - 更新規則說明：
  - Rule「驗證成功後登記為已入場」：明確同時執行兩個操作 - 更新 Ticket.status 為「已入場」並建立 TicketValidateLog 記錄
