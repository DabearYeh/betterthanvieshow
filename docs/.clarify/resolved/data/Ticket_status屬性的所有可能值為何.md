# 釐清問題

Ticket 實體的 status 屬性應包含哪些狀態值？目前定義似乎有不一致之處。

# 定位

ERM：Ticket 實體 status 屬性
Feature：訂票.feature、驗票.feature

# 問題詳情

當前 erm.dbml 定義：`status string [note: '票券狀態(待驗證、已入場、已過期、已取消)']`

但根據訂票流程：
- 確認訂票時，Ticket 建立時 status = 待付款
- 付款成功後，status 變更為待驗證

**不一致處**：erm.dbml 中沒有列出「待付款」狀態

# 多選題

| 選項 | 描述 |
|--------|-------------|
| A | 待付款 → 待驗證 → 已入場（正常流程）；另有已取消、已過期狀態 |
| B | 待付款 → 待驗證 → 已入場；已過期為系統判定，不是狀態 |
| C | 其他（請說明完整狀態值清單） |

# 影響範圍

- Ticket 狀態管理
- 訂票.feature 與驗票.feature 的狀態轉換規則
- 資料庫約束

# 優先級

High - 影響核心業務流程

---
# 解決記錄

- **回答**：與第 14 題一致 - 四態設計
- **更新的規格檔**：無需修改（當前設計已符合需求）
- **變更內容**：
  - 決策：Ticket.status 的所有可能值為：**待支付、未使用、已使用、已過期**
  - 狀態說明：
    - **待支付**：確認票券時的初始狀態
    - **未使用**：支付成功後的狀態
    - **已使用**：驗票成功後的狀態
    - **已過期**：3分鐘未付款或電影結束後的狀態
  - 此決策與第 14 題「Ticket_狀態轉換的完整流程是什麼」一致
  - 當前 erm.dbml 中已正確定義為四態設計
