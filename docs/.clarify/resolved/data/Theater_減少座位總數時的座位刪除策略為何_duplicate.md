# 釐清問題

編輯影廳時，若減少座位總數，應該刪除哪些座位？刪除已被訂購的座位時如何處理？

# 定位

ERM：Theater.total_seats, Seat 實體
Feature：編輯影廳 → Rule: 修改座位總數時需同步調整座位配置

# 多選題

| 選項 | 描述 |
|--------|-------------|
| A | 只能在沒有任何已訂購座位時進行減少；削減時按最後添加的座位倒序刪除 |
| B | 可以減少座位，但已被訂購的座位無法刪除；系統自動跳過並提示 |
| C | 完全禁止減少座位總數 |
| D | 減少座位總數時強制取消相關訂票 |
| Short | 其他策略 |

# 影響範圍

- Theater 座位管理的業務規則
- 編輯影廳功能的邊界條件
- 訂票系統的座位鎖定機制
- 退款與取消訂單的流程

# 優先級

High

---

**說明**：規格中提到「需要同步調整座位配置」，但未明確說明減少座位時是否可能涉及已訂購座位，以及如何處理衝突。

---
# 解決記錄

- **回答**：已在 Phase 1 完成，選擇「禁止減少有有效訂票的座位」
- **更新的規格檔**：已在 Phase 1 完成
- **變更內容**：
  - 此問題已在 Phase 1 完成完整決議
  - 詳細內容請參考：`.clarify/resolved/data/Theater_減少座位總數時的座位刪除策略為何.md`
  - 決策摘要：
    - 減少座位時檢查被刪除座位是否有有效訂票
    - 若有有效訂票（待支付/未使用/已使用），拒絕操作
    - 若無有效訂票，允許刪除
    - 保護用戶訂票權益，避免 Ticket 記錄孤立
